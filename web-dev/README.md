웹개발 기능대회 예제

## 요구사항

- HTML 파일은 아래 `완성해야 하는 페이지`와 비슷한 레이아웃을 구성해야 한다.
- 상품 목록은 `.json`파일로 제공되며 이 데이터를 사용해야 한다.
- 상품 검색 기능이 필요하다. (상단 input에 검색어를 입력하면 검색어가 들어있는 상품/업체명을 보여줘야 한다.)
- 사진을 장바구니로 드래그하면 상품카드가 장바구니에 생성되어야 한다.
- 장바구니 개별 항목의 주문 수량을 변경할 수 있어야한다.
- 모든 상품과 수량의 최종 합계 금액을 보여줘야 한다.
- 구매하기를 누르면 성함, 연락처를 입력할 수 있는 모달창을 띄워야 한다.
- 모달창에서 구매완료를 누르면 영수증을 이미지 형태로 보여줘야 한다.

## 완성해야 하는 페이지 미리보기

![image](https://user-images.githubusercontent.com/48672106/163710068-67a28df9-18b2-4d55-b3e4-db7c0a4234cb.png)

## 인풋 검색창

![image](https://user-images.githubusercontent.com/48672106/163710172-30abe629-913a-4e7b-922a-f3d615d71082.png)

## 장바구니 드래그

![image](https://user-images.githubusercontent.com/48672106/163710183-f5bbfef3-b4fe-4945-af76-41c424e36f97.png)

## 최종 가격 계산

![image](https://user-images.githubusercontent.com/48672106/163710201-58b6179f-99a4-4605-85e6-b65617cf7cab.png)

## 구매하기 모달창

![image](https://user-images.githubusercontent.com/48672106/163710214-dbf3ca0d-4c57-4616-a5fe-2eee40aac6ae.png)

## 구매완료시 영수증 이미지

![image](https://user-images.githubusercontent.com/48672106/163710217-257d1da5-d9de-4579-ace7-83904491900e.png)

---

## 위 사항을 지켜 직접 만든 페이지

<완성되면 이 자리에 이미지 첨부하기>

## 중간 제작 과정

### (2022.04.19) 정적페이지 완성 (html, css 사용)

![image](https://user-images.githubusercontent.com/48672106/163839367-fd269bca-9514-4375-aa3e-d05f380cd448.png)

### (2022.04.20) JSON파일로 받아온 데이터로 동적 html 생성 및
input 박스에 검색한 검색어 title이 해당되면 해당되는 아이템만 상품으로 보여줌

![Honeycam 2022-04-20 22-10-58](https://user-images.githubusercontent.com/48672106/164238180-8ead9edb-2c9d-4fb8-950e-2a96726510aa.gif)

### (2022.06.15) 코드 리펙토링 진행
한가지 함수가 하나의 일을 실행하도록 수정
JSON데이터를 받아올 때 받아온 데이터가 재사용되므로 변수에 저장


### 부족하다고 생각한 사항 / 보완하고 싶은 부분 등 메모

1. 인풋 검색을 통해 해당 검색어가 포함된 상품만 보여주는 부분에서 어떻게 구현할지 고민이 됐다.
부모 박스의 display를 none/block으로 바꾸면 성능적으로 visibility보다 안좋을것 같아서 visibility를 사용했다. 
▶▶▶ 문제점:  visibility를 사용하는게 성능적으로 이점일 줄 알았으나, display none자체는 렌더링 트리에 포함되지 않는다고 한다.
오히려 visibility가 렌더링 트리에 포함된다는 것을 알게 되었다. 처음에 생각하고 짰던 부분이 오히려 반대되는 것을 알고 충격적이다..ㅜㅜ display 속성을 건드리는 게 레이아웃을 다시 그릴거라고 예상했었다. 이 부분에 대해 조금 더 고민해보고 코드를 수정해봐야겠다.
구글링을 사용하지 않고 스스로 뇌피셜 코딩을 했더니 생긴 문제라고 생각한다. 확실하지 않은 부분에 대해서는 한번 더 검색해보고 확신을 가지는 습관을 가져야겠다고 생각했다. 

visibility는 요소를 없애는 식으로 안보이는게 아니라 그 위치에 있는데 보이지 않게 처리만 하다보니
각 상품의 위치가 변경되지 않고 /빈칸/ /빈칸/ /검색한상품/ /빈칸/ 과 같은 형식으로 보여짐 처리가 되는 문제가 발생했다.
이를 해결하고자 검색어에 해당하는 상품의 부모박스를 상품 전체 컨테이너에 가장 첫번째 자식으로 다시 끼우는 방법으로 해결하였다.
이후 발생하는 문제가 하나 더 있었는데 검색어를 모두 지웠을 때 상품이 나타나지 않거나, 검색어를 썼다가 지우면 새로 끼워진 자식으로 인해 처음과 다른 상품들로 배치가 되는 문제가 있었다. 
검색어를 썼다가 지웠을 때 상품이 나타나지 않는 문제는 setTimeout을 사용하여 0.1초 후 부모 박스가 visible로 바뀌도록 설정하였고
부모 박스에 새로 끼워진 자식 요소들로 인해 변경된 배치는 인풋박스의 텍스트가 공백일 때 상품 부모 안의 모든 innerHTML을 지우고 동적으로 데이터를 다시 받아오도록 코드를 짰다. (06.15 추가) 불필요한 setTimeout함수를 제거하고 코드를 리펙토링했다.

2. 초보라서 성능까지 고민하면서 짜는 것이 쉽지 않았다. 
일단 구현해보고 리팩토링하는 방식으로 코드를 보완 수정하던지 해야될 것 같기도 하다.

3. 검색창 만드는데 시간이 오래 걸렸다. 해결을 위해 구글링을 사용했다.
필터 함수를 사용해서 사용자가 input 박스에 입력한 결과를 데이터 오브젝트의 프로퍼티인 title이나 brand가 포함하고 있다면
true를 반환하여 새롭게 저장된 배열을 반환하는 함수를 만들었다.
사용자가 keyup 이벤트를 발생시켰을 때 제품 오브젝트의 부모 박스 안의 html을 모두 지우고 검색한 내용이 포함되는 아이템만 보여지도록 작성했다.



